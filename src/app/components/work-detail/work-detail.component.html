<div class="work-detail-container" *ngIf="work">
  <div class="header">
    <button mat-icon-button (click)="goBack()" class="back-button">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <div class="actions">
      <a mat-raised-button color="primary" [routerLink]="['/edit', work.id]">
        <mat-icon>edit</mat-icon>
        Edit
      </a>
      <button mat-raised-button color="warn" (click)="deleteWork()">
        <mat-icon>delete</mat-icon>
        Delete
      </button>
    </div>
  </div>

  <mat-card class="work-card">
    <mat-card-header>
      <mat-icon mat-card-avatar [class]="'work-icon ' + work.type">
        {{ work.type === 'play' ? 'theater_comedy' : work.type === 'poem' ? 'format_quote' : 'article' }}
      </mat-icon>
      <mat-card-title>{{ work.title }}</mat-card-title>
      <mat-card-subtitle>
        <span class="type-badge">{{ work.type | titlecase }}</span>
        <span class="status-badge" [class]="work.status">{{ work.status }}</span>
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div class="metadata">
        <div class="meta-item">
          <mat-icon>calendar_today</mat-icon>
          <span>Created: {{ work.dateCreated | date:'medium' }}</span>
        </div>
        <div class="meta-item">
          <mat-icon>update</mat-icon>
          <span>Modified: {{ work.lastModified | date:'medium' }}</span>
        </div>
      </div>

      <div class="tags" *ngIf="work.tags.length > 0">
        <mat-chip *ngFor="let tag of work.tags">{{ tag }}</mat-chip>
      </div>

      <div class="content">
        <h3>Content</h3>
        <pre>{{ work.content }}</pre>
      </div>

      <div class="notes" *ngIf="work.notes">
        <h3>Notes</h3>
        <p>{{ work.notes }}</p>
      </div>
    </mat-card-content>
  </mat-card>
</div>

<div class="error-state" *ngIf="!work">
  <mat-icon>error_outline</mat-icon>
  <h2>Work not found</h2>
  <p>The work you're looking for doesn't exist or has been deleted.</p>
  <button mat-raised-button color="primary" (click)="goBack()">
    <mat-icon>arrow_back</mat-icon>
    Back to List
  </button>
</div>
